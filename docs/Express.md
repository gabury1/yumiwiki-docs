---
aliases: [익스프레스, Express.js, express]
---

# Express

> [[Node.js]]로 빠르게 API 서버 만들고 싶을 때

[[Node.js]] 기반 [[웹 프레임워크]]다. 미니멀하고 유연한 게 특징. [[Node.js]] 웹 프레임워크 중 가장 오래되고 가장 많이 쓰인다. 2010년에 나왔고, NPM 다운로드 수 기준으로 압도적 1위.

프론트엔드 개발자가 백엔드도 해야 할 때 가장 먼저 손이 가는 선택지다. [[JavaScript]]를 이미 알고 있으니 언어를 새로 배울 필요가 없다. 러닝커브가 낮고, 공식 문서 읽으면 30분 만에 서버 띄울 수 있다.

프레임워크가 정해주는 게 거의 없다. 폴더 구조, 아키텍처 패턴, 에러 처리 방식 다 개발자가 정해야 한다. 자유도가 높다는 건 장점이자 단점. 팀마다 코드 스타일이 달라지기 쉽다. 구조화된 프레임워크가 필요하면 [[NestJS]]를 고려해볼 만하다.

소규모 프로젝트, MVP, API 서버에 적합하다. 대규모 엔터프라이즈 애플리케이션에는 [[Spring Boot]]나 [[NestJS]]가 더 나을 수 있다.

## 성능

[[Node.js]] 위에서 돌아가니까 싱글 스레드 + [[이벤트 루프]] 기반이다. I/O 작업(DB 쿼리, API 호출, 파일 읽기)이 많은 서비스에서 효율적이다. 동시 접속 수천 개도 문제없이 처리한다.

반면 CPU 연산이 많은 작업에는 안 맞는다. 이미지 처리, 복잡한 계산 돌리면 [[이벤트 루프]]가 블로킹되면서 전체 서버가 멈춘다. 이런 작업은 워커 스레드로 분리하거나 별도 서비스로 빼야 한다.

메모리 사용량은 가볍다. 기본 Express 앱은 50~100MB면 충분. [[Spring Boot]]보다 훨씬 적다. [[Docker]] 컨테이너로 띄우기 좋다.

초당 요청 처리량은 [[Fastify]]보다 느리다. 벤치마크상 2~3배 차이 난다. 하지만 실제 서비스에서 Express가 병목이 되는 경우는 드물다.

## 생태계

NPM 생태계가 양날의 검이다. 라이브러리는 엄청 많은데 품질 편차도 크다. 유지보수 안 되는 패키지도 많으니 다운로드 수, 최근 업데이트, 이슈 처리 현황 꼭 확인하자.

미들웨어 구조가 핵심이다. 요청-응답 파이프라인에 원하는 기능을 끼워넣는 방식. [[cors]], [[helmet]], [[morgan]], [[body-parser]] 같은 미들웨어를 조합해서 쓴다.

[[Passport]]로 인증 처리, [[Sequelize]]나 [[Prisma]]로 [[ORM]], [[Socket.io]]로 [[WebSocket]] 구현하는 게 일반적이다. [[TypeScript]] 지원도 잘 된다.

한국어 자료 많고, 입문자용 튜토리얼도 잘 되어 있다. 다만 최신 패턴(async/await, ES 모듈)으로 작성된 자료인지 확인 필요.

## 주의점

**콜백 지옥**: 예전 코드는 콜백 중첩이 심하다. async/await 쓰면 해결되지만, 에러 핸들링 빠뜨리기 쉽다. try-catch 감싸거나 [[express-async-errors]] 패키지 쓰자.

**에러 처리 안 하면 서버 죽음**: 비동기 에러가 잡히지 않으면 프로세스가 크래시난다. 글로벌 에러 핸들러 미들웨어 반드시 추가해야 한다. `process.on('uncaughtException')`, `process.on('unhandledRejection')` 도 걸어두자.

**보안 설정 직접 해야 함**: [[Django]]나 [[Spring Boot]]처럼 보안 기능이 내장되어 있지 않다. [[helmet]]으로 HTTP 헤더 보안, [[cors]]로 CORS 설정, rate limiting 직접 구현해야 한다. SQL 인젝션, XSS 방어도 알아서 해야 한다.

**타입 안정성 부족**: [[JavaScript]]라서 런타임 에러가 자주 난다. [[TypeScript]] 쓰면 많이 해결되지만, 동적 타입 특성은 여전히 존재.

**버전 관리**: Express 4.x가 오래 유지되고 있다. Express 5가 베타로 수년째 묶여있다. 4.x 쓰면 되는데, 가끔 오래된 튜토리얼이 deprecated 문법 쓰고 있으니 주의.

**구조화 부재**: 프로젝트가 커지면 스파게티 코드 되기 쉽다. 컨트롤러, 서비스, 레포지토리 레이어 분리를 초반부터 해두는 게 좋다.

## 주요 기능

- 라우팅 (path, HTTP 메서드 기반)
- 미들웨어 파이프라인
- 정적 파일 서빙
- 템플릿 엔진 지원 ([[EJS]], [[Pug]], [[Handlebars]])
- Router로 모듈화

## 기타

Express는 2010년 TJ Holowaychuk이 만들었다. [[Node.js]]가 나온 지 1년 만에 나온 거다. TJ는 Express 외에도 [[Mocha]], [[Koa]] 같은 유명 라이브러리를 많이 만든 전설적인 개발자다. 지금은 [[Go]]로 넘어갔지만.

"Unopinionated"를 표방한다. 프레임워크가 의견을 강요하지 않는다는 뜻. 이게 장점이자 단점이다. 자유롭지만 팀마다 코드 스타일이 천차만별이 된다. "Express 프로젝트는 똑같은 게 하나도 없다"는 말이 있다.

NPM 주간 다운로드 2천만 이상. [[React]]랑 비슷한 수준이다. 거의 모든 [[Node.js]] 개발자가 한 번쯤은 써봤을 거다. "Hello World를 가장 빠르게 띄울 수 있는 프레임워크"라는 평가도 있다.

Express 5가 2014년부터 알파로 나왔는데 2024년에도 베타다. 10년째 베타. 4.x가 워낙 안정적이고 잘 돌아가서 굳이 5로 올릴 이유가 없다는 의견도 있다. 새 프로젝트는 [[Fastify]]나 [[NestJS]] 고려하는 추세.
