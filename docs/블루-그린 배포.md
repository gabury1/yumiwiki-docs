---
title: 블루-그린 배포 (Blue-Green Deployment)
aliases: ["blue-green", "블루그린", "무중단배포"]
---

# 블루-그린 배포 (Blue-Green Deployment)

> 구버전과 신버전의 완벽한 세대교체

**블루-그린 배포**는 동일한 규모의 두 프로덕션 환경을 운영하여 업데이트를 진행하는 전략이다.

- **Blue**: 현재 서비스가 돌아가고 있는 라이브(Live) 환경.
- **Green**: 새로운 버전이 배포되어 테스트 중인 대기(Idle) 환경.

## 작동 방식

1. **상태 유지**: 현재 서비스는 **Blue** 환경에서 사용자에게 제공된다.
2. **배포**: 새로운 코드를 대기 중인 **Green** 환경에 배포하고 테스트를 진행한다.
3. **스위칭**: 로드밸런서나 [[DNS]] 설정을 통해 트래픽을 한순간에 **Blue**에서 **Green**으로 전환한다.
4. **대기 및 롤백**: 문제가 없으면 **Green**이 새로운 **Blue**가 되고, 이전의 **Blue**는 다음 배포를 위한 대기 환경이 된다. 문제가 발생하면 즉시 트래픽을 이전 **Blue**로 돌려 실시간 롤백을 수행한다.

## 장점

- **가동 중단 시간 없음 (Zero Downtime)**: 트래픽 전환이 매우 빨라 사용자는 중단을 느끼지 못한다.
- **신속하고 안전한 롤백**: 문제가 생기면 단순히 스위치를 다시 돌리기만 하면 된다.
- **배포 안전성**: 운영 환경과 동일한 **Green** 환경에서 미리 최종 확인을 할 수 있다.

## 단점

- **비용 발생**: 두 개의 시스템 환경을 동시에 운영해야 하므로 리소스(서버 비용 등)가 두 배로 든다.
- **데이터 동기화 문제**: 배포 중에 데이터베이스 상태가 변경되면, 이전 환경으로 롤백했을 때 데이터 불일치가 발생할 수 있다.

## 활용 (Tooling)
- [[AWS]] Route 53 (Weighted Routing)
- [[Kubernetes]] Service switching
- [[NGINX]] Upstream switching
