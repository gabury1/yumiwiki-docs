---
aliases: [Bundling, 모듈 번들링, Module Bundling]
---

# 번들링

> 여러 파일을 하나로 합쳐서 배포하는 방식

웹 프론트엔드 개발할 때 코드를 여러 파일로 나눠서 작성한다. `Header.js`, `Footer.js`, `utils.js`... 수십 개, 수백 개가 될 수 있다. 하지만 브라우저에서 파일을 하나씩 요청하면 느리다. 번들링은 이 파일들을 하나(또는 몇 개)로 합쳐주는 방식이다.

코드 압축, 트랜스파일, 최적화까지 같이 해준다. 개발할 때는 파일 나눠서 작업하고, 배포할 때는 번들 파일 하나만 올린다.

## 동작 원리

책을 쓸 때는 챕터별로 파일을 나눈다. `chapter1.txt`, `chapter2.txt`... 하지만 독자한테 줄 때는 한 권으로 묶어서 준다. 번들링도 비슷하다.

**진입점(Entry Point) 찾기**: 애플리케이션 시작 파일을 지정한다. 보통 `index.js`나 `main.js`다.

**의존성 그래프 생성**: 진입점에서 시작해서 `import`나 `require`로 연결된 모든 파일을 찾는다. A가 B를 import하고, B가 C를 import하면 A→B→C 그래프가 만들어진다.

**변환(Transform)**: [[TypeScript]]를 [[JavaScript]]로, [[JSX]]를 일반 JS로, 최신 문법을 구형 브라우저용으로 바꾼다. [[Babel]]이나 [[SWC]] 같은 도구가 이 일을 한다.

**번들 파일 생성**: 모든 파일을 하나로 합친다. 중복 제거하고, 사용 안 하는 코드는 빼고([[Tree Shaking]]), 변수명 짧게 만들고([[Minification]]) 압축한다.

**코드 분할(Code Splitting)**: 필요하면 여러 파일로 나눈다. 첫 화면에 필요한 건 `main.bundle.js`, 관리자 페이지는 `admin.bundle.js` 이런 식으로. 사용자가 해당 페이지 갈 때만 로드한다.

## 용도

**프론트엔드 빌드**: [[React]], [[Vue]], [[Angular]] 같은 프레임워크는 번들러 필수다. 개발은 컴포넌트 단위로 하고, 배포는 번들 파일로.

**성능 최적화**: 파일 100개를 따로 요청하는 것보다 번들 파일 하나 받는 게 훨씬 빠르다. HTTP 요청 횟수가 줄어든다.

**하위 호환성**: 최신 [[JavaScript]] 문법으로 개발하고, 번들러가 구형 브라우저용으로 변환해준다. `async/await` 같은 최신 기능도 IE11에서 돌아간다.

**의존성 관리**: `node_modules`에 있는 수백 개 라이브러리를 하나의 번들에 포함시킨다. 배포 시에는 `node_modules` 폴더 없이 번들 파일만 있으면 된다.

## 장단점

**장점**:
- HTTP 요청 횟수 대폭 감소
- 파일 크기 압축으로 전송량 감소
- 코드 난독화로 어느 정도 보호
- 개발과 배포 환경 분리 가능

**단점**:
- 빌드 시간이 걸린다. 큰 프로젝트는 수분 소요
- 디버깅이 어렵다. Source Map 없으면 에러 찾기 힘듦
- 설정이 복잡하다. [[Webpack]] 설정 파일은 악명 높음
- 캐싱 전략이 필요하다. 번들 파일명에 해시 붙여서 관리

## 생태계

- [[Webpack]] - 가장 많이 쓰는 번들러, 설정 복잡함
- [[Vite]] - 개발 중에는 번들링 안 하고 빠름
- [[Rollup]] - 라이브러리 번들링에 특화
- [[Parcel]] - 설정 없이 자동으로 처리
- [[esbuild]] - Go로 작성, 엄청 빠름
- [[Turbopack]] - [[Rust]] 기반, [[Next.js]]에서 개발

## 기타

번들링은 2010년대 초반부터 본격화됐다. [[Node.js]]와 [[npm]]이 보급되면서 프론트엔드도 모듈 시스템을 쓰기 시작했다. 초기엔 [[Browserify]]가 인기였고, 2015년쯤 [[Webpack]]이 대세가 됐다.

"Webpack 설정 지옥"이라는 말이 있다. 설정 파일이 수백 줄 넘어가는 건 흔하다. 그래서 [[Create React App]], [[Vue CLI]] 같은 도구가 나왔다. 설정을 미리 해줘서 개발자는 신경 안 써도 되게.

[[Vite]]가 나오면서 "빌드리스 개발"이 유행했다. 개발할 때는 번들링 안 하고 브라우저의 ES Module을 쓴다. [[Hot Module Replacement]]도 즉각 반영된다. 배포할 때만 번들링. [[Webpack]]보다 10~100배 빠르다는 벤치마크도 있다.

"모든 것을 번들링한다"는 개념도 있다. [[CSS]], 이미지, 폰트까지 JavaScript 번들에 포함시키는 것. [[CSS-in-JS]]나 `import './style.css'` 같은 게 이런 접근이다. 찬반 논쟁이 있다.
