---
title: 확장성
aliases: ["scalability", "scale", "스케일링", "확장"]
---

# 확장성

> 사용자가 늘어나도 시스템이 잘 동작해야 할 때 필요한 개념

부하가 증가해도 성능을 유지하면서 시스템 용량을 늘릴 수 있는 능력이다. 식당이 손님 늘어나면 테이블 추가하거나 지점 내는 것과 같다.

## 탄생 배경

인터넷 서비스가 성장하면서 사용자가 폭발적으로 늘어났다. 한 대 서버로는 감당이 안 됐다. 서버를 더 세게 만들거나(Scale Up), 더 많이 늘리거나(Scale Out) 해야 했다.

## 용도

트래픽이 몰리는 이벤트 시즌에 서버를 늘린다. 데이터가 한 서버에 안 들어가면 여러 서버로 분산한다. 사용자가 백만 명에서 천만 명이 돼도 서비스가 느려지지 않게 한다.

## 수직 확장 vs 수평 확장

**수직 확장 (Scale Up)**: 서버 한 대를 더 세게. CPU, 메모리 추가. 단순하지만 한계가 있고 비쌈.

**수평 확장 (Scale Out)**: 서버 대수를 늘림. 저렴한 서버 여러 대로 분산. 이론적으로 무한 확장 가능. 하지만 설계가 복잡함.

현대 시스템은 수평 확장을 기본으로 설계한다.

## 생태계

- [[로드 밸런싱]] - 트래픽을 여러 서버로 분산
- [[샤딩]] - 데이터를 여러 DB로 분산
- [[캐싱]] - 자주 쓰는 데이터 빠르게 제공
- [[CDN]] - 정적 자원을 전 세계 분산
- [[Kubernetes]] - 컨테이너 자동 스케일링
- [[마이크로서비스]] - 서비스별 독립 확장

## 기타

"조기 최적화는 만악의 근원"이라는 도널드 크누스의 명언이 있다. 사용자 10명일 때 1000만 명 대응 설계하는 건 시간 낭비다. 일단 돌아가게 만들고, 병목이 생기면 그때 해결하는 게 실용적이다. Twitter, Instagram 모두 처음엔 단순한 구조로 시작했다.

"수직 확장의 한계"는 명확하다. 서버 한 대 성능을 두 배로 올리는 비용이, 서버 한 대 더 사는 것보다 훨씬 비싸다. 그리고 물리적 한계가 있다. CPU, 메모리를 무한정 늘릴 수는 없다. 그래서 현대 아키텍처는 수평 확장을 기본으로 한다.

Netflix는 "카오스 엔지니어링"을 실천한다. 일부러 서버를 랜덤하게 종료시켜서 시스템이 견디는지 테스트한다. "Chaos Monkey"라는 도구가 유명하다. 확장성 있는 시스템은 일부가 죽어도 전체가 살아야 한다는 철학.

"스케일링은 돈으로 산다"는 말도 있다. AWS 같은 클라우드에서는 서버를 쉽게 늘릴 수 있다. 문제는 비용이 선형으로 증가한다는 거다. 사용자 10배 늘면 비용도 10배 가까이 늘어날 수 있다. 그래서 [[캐싱]], 최적화로 비용을 줄이는 게 중요하다.
