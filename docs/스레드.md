---
title: 스레드
aliases: ["thread", "스레드", "일꾼"]
---

# 스레드 (Thread)

> "프로세스라는 공장 안에서 실제로 땀 흘려 코드를 실행하는 가장 작은 단위의 일꾼"

[[프로세스]] 내에서 실행되는 흐름의 단위를 말한다. 하나의 프로세스는 적어도 하나의 스레드(메인 스레드)를 가지며, 필요에 따라 여러 일꾼을 더 뽑을 수 있다.

## 자원 공유 (한 지붕 여러 가족)

스레드가 가벼운 이유는 프로세스의 자원을 대부분 공유하기 때문이다.

-   **공유하는 것**: Code, Data, Heap 영역. (동료들이 쓴 자원을 나도 바로 쓸 수 있음)
-   **따로 갖는 것**: **Stack** 영역과 PC(Program Counter) 레지스터. (어디까지 일했는지, 내 개인 도구함은 따로 챙김)

## 스레드를 쓰는 이유 (장점)

1.  **가성비(Efficiency)**: 공장을 새로 짓는(프로세스 생성) 것보다 일꾼을 더 뽑는 게 훨씬 싸고 빠르다.
2.  **빠른 통신**: 공유하는 메모리가 있어서 데이터 주고받기가 매우 쉽다.
3.  **응답성**: 파일을 다운로드하는 동안에도(스레드 A), 화면을 조작할 수 있게(스레드 B) 해준다.

## 주의점 (단점)

-   **안정성 문제**: 일꾼 한 명이 실수로 사고를 쳐서 공장 전체가 터지면, 그 안의 모든 스레드가 한꺼번에 죽는다.
-   **동기화 지옥**: 여러 스레드가 동시에 똑같은 데이터를 고치려다 싸우는 일이 발생한다. (**Race Condition**) 이걸 막으려고 '잠금(Lock)'을 걸다 보면 성능이 떨어지기도 한다.

## 기타

1.  **멀티 스레딩**: 하나의 프로세스 안에서 여러 스레드를 돌리는 것. 웹 서버가 수많은 사용자의 요청을 동시에 처리할 때 필수적이다.
2.  **데드락(Deadlock)**: 두 스레드가 서로 상대방이 쥔 도구를 기다리느라 영원히 멈춰버리는 교착 상태다.
3.  **사용자 스레드 vs 커널 스레드**: 누가 관리하느냐에 따라 나뉘는데, 현대 언어([[Java]], [[Python]])들은 운영체제의 스레드와 긴밀하게 협력한다.

## 관련 문서

- [[프로세스 vs 스레드]]: 두 개념의 핵심 차이점과 비유를 통한 비교
