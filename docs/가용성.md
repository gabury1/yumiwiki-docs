---
aliases: [Availability, HA, High Availability, 고가용성]
---

# 가용성

> 시스템이 항상 동작하고 있어야 할 때 필요한 개념

사용자가 서비스에 접근하려 할 때 항상 이용 가능한 상태를 유지하는 것이다. 은행 ATM이 24시간 돌아가는 것, 응급실이 언제나 열려 있는 것과 같다.

## 탄생 배경

비즈니스가 IT에 의존하면서, 시스템 다운타임이 곧 매출 손실이 됐다. 1시간 장애로 수억 원 피해. 99.9% 가동률도 연간 8시간 다운. 핵심 서비스는 99.99% 이상을 목표로 한다.

## 용도

금융 서비스는 장애가 곧 신뢰 추락. 이커머스는 블랙프라이데이 때 절대 죽으면 안 됨. 의료 시스템은 생명과 직결.

서버가 하나 죽어도 다른 서버가 즉시 대신한다. DB가 고장 나도 복제본이 서비스 유지한다.

## 측정 방법

**가동률(Uptime)**로 측정한다:

- 99% = 연간 3.65일 다운타임
- 99.9% (Three 9s) = 연간 8.76시간
- 99.99% (Four 9s) = 연간 52분
- 99.999% (Five 9s) = 연간 5분

9를 하나 더 붙이는 데 비용이 기하급수적으로 늘어난다.

## 생태계

- [[로드 밸런싱]] - 서버 여러 대에 분산
- [[리플리케이션]] - DB 복제본 유지
- [[페일오버]] - 장애 시 자동 전환
- [[Health Check]] - 상태 모니터링
- [[재해 복구]] - 다른 리전에 백업
- [[Kubernetes]] - 자동 복구, 재시작

## 기타

99.9%와 99.99%의 차이가 큰가? 숫자로는 0.09%지만, 다운타임으로 환산하면 연간 8시간과 52분이다. 거의 10배 차이다. 그리고 99.99%를 달성하는 비용은 99.9% 대비 몇 배 이상 든다. 9를 하나 더 붙일 때마다 기하급수적으로 어려워진다.

"장애는 일어난다"는 전제로 설계해야 한다. 서버가 안 죽을 거라고 믿지 말고, 죽어도 서비스가 유지되게 만들어야 한다. Netflix의 "모든 것이 언젠가 망가진다(Everything fails all the time)" 철학이 이걸 잘 표현한다.

AWS 리전 장애가 났을 때, 멀티 리전 구성 안 한 서비스들이 몰살당한 사례가 있다. 비용 아끼려고 한 리전만 쓰다가 큰 사고가 난 거다. "멀티 리전은 사치가 아니라 필수"라는 교훈을 남겼다. 물론 중소기업은 비용 문제로 어려운 게 현실이지만.

"계획된 점검"도 가용성에 포함된다. 옛날엔 "새벽 2시 서버 점검" 공지가 흔했는데, 요즘은 무중단 배포가 표준이다. [[블루-그린 배포]], [[롤링 업데이트]] 같은 기법으로 사용자가 눈치채지 못하게 업데이트한다.
